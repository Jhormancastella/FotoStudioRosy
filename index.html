<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foto Estudio Rosy - Galería</title>
    <link rel="shortcut icon" href="https://res.cloudinary.com/dipv76dpn/image/upload/v1757801787/fjtfrshjkyxdtuscpkk5.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
        body{background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);color:#333;line-height:1.6;min-height:100vh;padding:20px}
        .container{max-width:1200px;margin:0 auto;background:white;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,.1);overflow:hidden}
        header{background:linear-gradient(90deg,#e9cde1 0%,#fc25a2 100%);color:#fff;padding:25px;text-align:center;position:relative}
        .logo{font-size:2.5rem;font-weight:bold;margin-bottom:10px;display:flex;align-items:center;justify-content:center;gap:15px}
        .logo span{font-family:'Great Vibes',cursive;font-size:3.2rem;letter-spacing:1px;font-weight:400}
        .tagline{font-style:italic;opacity:.9;margin-top:10px}
        .admin-controls{position:absolute;top:20px;right:20px;display:flex;gap:10px;align-items:center}
        .admin-btn{padding:8px 15px;background:rgba(255,255,255,.2);color:#fff;border:1px solid #fff;border-radius:20px;cursor:pointer;transition:all .3s}
        .admin-btn:hover{background:#fff;color:#fc25a2}
        #adminStatus.hidden{display:none}
        .main-content{padding:30px}
        .upload-options{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap}
        .option-card{flex:1;min-width:280px;background:#fff;border-radius:10px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,.05);border:1px solid #eee;text-align:center;transition:transform .3s}
        .option-card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.1)}
        .option-card i{font-size:3rem;color:#fc25a2;margin-bottom:15px}
        .option-card h3{margin-bottom:15px;color:#444}
        .option-card button{padding:10px 20px;background:#fc25a2;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background .3s}
        .option-card button:hover{background:#e9cde1;color:#333}
        .upload-area{border:2px dashed #fc25a2;border-radius:10px;padding:30px;text-align:center;margin-top:20px;background:#f9f9ff;display:none}
        .upload-area.active{display:block}
        .upload-area i{font-size:3rem;color:#fc25a2;margin-bottom:15px}
        .url-input{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;margin:15px 0;font-size:1rem}
        .submit-btn{padding:12px 25px;background:#fc25a2;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;transition:background .3s}
        .submit-btn:hover{background:#e9cde1;color:#333}
        .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-top:30px}
        .gallery-item{position:relative;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,.1);transition:transform .3s;height:200px}
        .gallery-item:hover{transform:scale(1.03)}
        .gallery-item img{width:100%;height:100%;object-fit:cover;display:block}
        .gallery-item .delete-btn{position:absolute;top:10px;right:10px;background:rgba(231,76,60,.8);color:#fff;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;display:none}
        .gallery-item:hover .delete-btn{display:block}
        .empty-message{text-align:center;color:#777;font-style:italic;grid-column:1/-1;padding:40px;background:#f9f9f9;border-radius:10px}
        .modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.7)}
        .modal-content{background:#fefefe;margin:15% auto;padding:25px;border-radius:10px;width:90%;max-width:400px;position:relative;box-shadow:0 5px 25px rgba(0,0,0,.2)}
        .modal-content h2{margin-bottom:20px;color:#fc25a2;text-align:center}
        .modal-content input{width:100%;padding:12px;margin:12px 0;border:1px solid #ddd;border-radius:5px;font-size:1rem}
        .modal-content button{width:100%;padding:12px;background:#fc25a2;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;margin-top:10px}
        .modal-content button:hover{background:#e9cde1;color:#333}
        .close{position:absolute;top:10px;right:20px;color:#aaa;font-size:28px;font-weight:bold;cursor:pointer}
        .close:hover{color:#000}
        @media(max-width:768px){.upload-options{flex-direction:column}.admin-controls{position:static;justify-content:center;margin-top:15px}.gallery{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}}
        .hidden{display:none!important}
        /* Modal pantalla completa */
        .fs-modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.92);cursor:pointer}
        .fs-content{display:block;margin:auto;max-width:90%;max-height:90%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:8px;box-shadow:0 0 25px rgba(0,0,0,.5)}
        .fs-close{position:absolute;top:20px;right:30px;color:#fff;font-size:40px;font-weight:bold;cursor:pointer;z-index:2001;transition:color .3s}
        .fs-close:hover{color:#fc25a2}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="https://res.cloudinary.com/dipv76dpn/image/upload/v1757801787/fjtfrshjkyxdtuscpkk5.png" alt="Logo" style="height:80px">
                <span>Rosy Photo Studio</span>
            </div>
            <p class="tagline">Capturando momentos especiales para toda la vida</p>
            <div class="admin-controls">
                <button id="adminLoginBtn" class="admin-btn"><i class="bi bi-person-circle"></i> Iniciar Sesión</button>
                <button id="logoutBtn" class="admin-btn hidden"><i class="bi bi-box-arrow-right"></i> Cerrar Sesión</button>
                <div id="adminStatus" class="admin-status hidden">Modo Administrador</div>
            </div>
        </header>
<!-- Selector de cantidad  -->
<div style="text-align:center;margin:30px 0">
    <label for="cantidadSelector"><strong>Imágenes a mostrar:</strong></label>
    <select id="cantidadSelector" style="margin-left:10px;padding:5px 10px;border-radius:5px;border:1px solid #ccc">
        <option value="6">6</option>
        <option value="12">12</option>
        <option value="24">24</option>
        <option value="9999">Todas</option>
    </select>
</div>
        <div class="main-content">
            <div id="uploadSection" class="hidden">
                <h2>Subir Nueva Imagen</h2>
                <div class="upload-options">
                    <div class="option-card">
                        <i class="fas fa-upload"></i>
                        <h3>Subir desde tu dispositivo</h3>
                        <button id="cloudinaryBtn">Abrir Cloudinary</button>
                    </div>
                    <div class="option-card">
                        <i class="fas fa-link"></i>
                        <h3>Usar enlace de imagen</h3>
                        <button id="useUrlBtn">Usar URL</button>
                    </div>
                </div>
                <div id="urlUploadArea" class="upload-area">
                    <i class="fas fa-link"></i>
                    <p>Ingresa la URL de una imagen en internet</p>
                    <input type="text" id="urlInput" class="url-input" placeholder="https://ejemplo.com/imagen.jpg">
                    <button class="submit-btn" id="urlSubmit">Agregar Imagen</button>
                </div>
            </div>

            <div class="gallery-section">
                <h2 style="text-align:center;margin-bottom:20px">Galería de Imágenes</h2>
                <div class="gallery" id="imageGallery">
                    <p class="empty-message" id="emptyMessage">No hay imágenes en la galería.</p>
                </div>
            </div>
        </div>
    </div>
<!-- Modal de imagen en pantalla completa -->
<div id="fullScreenModal" class="fs-modal">
  <span class="fs-close">&times;</span>
  <img class="fs-content" id="fullScreenImage" src="" alt="Imagen ampliada">
</div>
    <!-- Modal de login -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Acceso de Administrador</h2>
            <p>Ingrese la contraseña para acceder al modo administrador:</p>
            <input type="password" id="passwordInput" placeholder="Contraseña">
            <button id="loginBtn">Ingresar</button>
            <p id="loginMessage" class="message"></p>
        </div>
    </div>

<!-- Footer -->
<footer style="background:#e9cde1;color:#333;text-align:center;padding:20px 10px;font-size:0.9rem;margin-top:40px">
    © 2025 Todos los derechos reservados – <strong>Jhorman Castellanos</strong><br>
    <span style="opacity:0.8">Foto Estudio Rosy - Capturando momentos especiales</span>
</footer>

    <!-- Cloudinary upload widget -->
    <script src="https://upload-widget.cloudinary.com/global/all.js"></script>
    <script>
        const CLOUD_NAME    = 'dipv76dpn';
        const UPLOAD_PRESET = 'rosy_unsigned';
        const FOLDER        = 'Rosy';
        const ADMIN_PASSWORD= 'Nileynave';

        let isAdmin = localStorage.getItem('isAdmin') === 'true';

        const loginModal    = document.getElementById('loginModal');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const logoutBtn     = document.getElementById('logoutBtn');
        const adminStatus   = document.getElementById('adminStatus');
        const uploadSection = document.getElementById('uploadSection');
        const passwordInput = document.getElementById('passwordInput');
        const loginBtn      = document.getElementById('loginBtn');
        const loginMessage  = document.getElementById('loginMessage');
        const closeModal    = document.querySelector('.modal .close');
        const urlInput      = document.getElementById('urlInput');
        const urlSubmit     = document.getElementById('urlSubmit');
        const imageGallery  = document.getElementById('imageGallery');
        const emptyMessage  = document.getElementById('emptyMessage');
        const cloudinaryBtn = document.getElementById('cloudinaryBtn');
        const useUrlBtn     = document.getElementById('useUrlBtn');

        initApp();

        function initApp() {
            updateUI();
            loadGallery();
            adminLoginBtn.addEventListener('click', openLoginModal);
            logoutBtn.addEventListener('click', logout);
            loginBtn.addEventListener('click', attemptLogin);
            closeModal.addEventListener('click', () => loginModal.style.display = 'none');
            window.addEventListener('click', e => { if (e.target === loginModal) loginModal.style.display = 'none'; });
            urlSubmit.addEventListener('click', handleUrlUpload);
            cloudinaryBtn.addEventListener('click', openCloudinary);
            useUrlBtn.addEventListener('click', () => document.getElementById('urlUploadArea').classList.toggle('active'));

            const widget = cloudinary.createUploadWidget({
                cloudName: CLOUD_NAME,
                uploadPreset: UPLOAD_PRESET,
                folder: FOLDER,
                sources: ['local','url','camera']
            }, (error, result) => {
                if (!error && result && result.event === "success") simulateAddImage(result.info);
            });
            window.cloudinaryWidget = widget;
        }

        function openCloudinary() { if (isAdmin) window.cloudinaryWidget.open(); else { alert('Inicia sesión como administrador'); openLoginModal(); } }

        async function loadGallery() {
            try {
                const res = await fetch(`https://res.cloudinary.com/${CLOUD_NAME}/image/list/${FOLDER}.json`);
                if (!res.ok) throw new Error('No autorizado');
                const data = await res.json();
                const images = data.resources.map(r => ({id:r.public_id, src:r.secure_url, name:r.public_id.split('/').pop()}));
                renderGallery(images);
            } catch {
                // Modo demostración
                // Modo demostración – 52 imágenes
const sampleImages = [
    // 1-10  (tus propias imágenes de Cloudinary)
    {id:'s1', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757804735/rosy/c97agknnaozxbqhongm3.webp', name:'Foto 1'},
    {id:'s2', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757803305/rosy/ezho7yh4b0dj5rhnphka.png', name:'Foto 2'},
    {id:'s3', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757803038/rosy/ilgq3e4ltptfbsq1wvr5.jpg', name:'Foto 3'},
    {id:'s4', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757800541/hgownf6lkgr1mndwyad8.png', name:'Foto 4'},
    {id:'s5', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799999/rosy/qwertyuiop.jpg', name:'Foto 5'},
    {id:'s6', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799888/rosy/asdfghjkl.jpg', name:'Foto 6'},
    {id:'s7', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799777/rosy/zxcvbnm.jpg', name:'Foto 7'},
    {id:'s8', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799666/rosy/123456.jpg', name:'Foto 8'},
    {id:'s9', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799555/rosy/098765.jpg', name:'Foto 9'},
    {id:'s10', src:'https://res.cloudinary.com/dipv76dpn/image/upload/v1757799444/rosy/abcdef.jpg', name:'Foto 10'},

    // 11-52  (Unsplash – 300×200, parámetros idénticos)
    {id:'s11', src:'https://images.unsplash.com/photo-1554080353-a576cf803bda?w=300&h=200&fit=crop', name:'Foto 11'},
    {id:'s12', src:'https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=300&h=200&fit=crop', name:'Foto 12'},
    {id:'s13', src:'', name:'Foto 13'},
    {id:'s14', src:'', name:'Foto 14'},
    {id:'s15', src:'', name:'Foto 15'},
    {id:'s16', src:'', name:'Foto 16'},
    {id:'s17', src:'', name:'Foto 17'},
    {id:'s18', src:'', name:'Foto 18'},
    {id:'s19', src:'', name:'Foto 19'},
    {id:'s20', src:'', name:'Foto 20'},
    {id:'s21', src:'', name:'Foto 21'},
    {id:'s22', src:'', name:'Foto 22'},
    {id:'s23', src:'', name:'Foto 23'},
    {id:'s24', src:'', name:'Foto 24'},
    {id:'s25', src:'', name:'Foto 25'},
    {id:'s26', src:'', name:'Foto 26'},
    {id:'s27', src:'', name:'Foto 27'},
    {id:'s28', src:'', name:'Foto 28'},
    {id:'s29', src:'', name:'Foto 29'},
    {id:'s30', src:'', name:'Foto 30'},
    {id:'s31', src:'', name:'Foto 31'},
    {id:'s32', src:'', name:'Foto 32'},
    {id:'s33', src:'', name:'Foto 33'},
    {id:'s34', src:'', name:'Foto 34'},
    {id:'s35', src:'', name:'Foto 35'},
    {id:'s36', src:'', name:'Foto 36'},
    {id:'s37', src:'', name:'Foto 37'},
    {id:'s38', src:'', name:'Foto 38'},
    {id:'s39', src:'', name:'Foto 39'},
    {id:'s40', src:'', name:'Foto 40'},
    {id:'s41', src:'', name:'Foto 41'},
    {id:'s42', src:'', name:'Foto 42'},
    {id:'s43', src:'', name:'Foto 43'},
    {id:'s44', src:'', name:'Foto 44'},
    {id:'s45', src:'', name:'Foto 45'},
    {id:'s46', src:'', name:'Foto 46'},
    {id:'s47', src:'', name:'Foto 47'},
    {id:'s48', src:'', name:'Foto 48'},
    {id:'s49', src:'', name:'Foto 49'},
    {id:'s50', src:'', name:'Foto 50'},
    {id:'s51', src:'', name:'Foto 51'},
    {id:'s52', src:'' , name:'Foto 52'}
]; 
                renderGallery(sampleImages);
            }
        }

        function renderGallery(images) {
            imageGallery.innerHTML = '';
            if (!images.length) { emptyMessage.style.display = 'block'; imageGallery.appendChild(emptyMessage); return; }
            emptyMessage.style.display = 'none';
            images.forEach(img => {
                const item = document.createElement('div'); item.className = 'gallery-item';
                item.innerHTML = `<img src="${img.src}" alt="${img.name}" loading="lazy">`;
                if (isAdmin) {
                    const del = document.createElement('button'); del.className = 'delete-btn'; del.innerHTML = '×';
                    del.onclick = () => window.open(`https://cloudinary.com/console/media_library/folder/${FOLDER}`, '_blank');
                    item.appendChild(del);
                }
                imageGallery.appendChild(item);
            });
        }

        function simulateAddImage(info) {
            const newImg = {id:info.public_id, src:info.secure_url, name:info.original_filename||'Nueva'};
            emptyMessage.style.display = 'none';
            const item = document.createElement('div'); item.className = 'gallery-item';
            item.innerHTML = `<img src="${newImg.src}" alt="${newImg.name}" loading="lazy">`;
            if (isAdmin) {
                const del = document.createElement('button'); del.className = 'delete-btn'; del.innerHTML = '×';
                del.onclick = () => window.open(`https://cloudinary.com/console/media_library/folder/${FOLDER}`, '_blank');
                item.appendChild(del);
            }
            imageGallery.appendChild(item);
        }

        function handleUrlUpload() {
            if (!isAdmin) { alert('Inicia sesión como administrador'); openLoginModal(); return; }
            const url = urlInput.value.trim();
            if (!url) { alert('URL vacía'); return; }
            try { new URL(url); } catch { alert('URL inválida'); return; }
            const img = new Image();
            img.onload = () => simulateAddImage({public_id:'url-'+Date.now(), secure_url:url, original_filename:'Imagen URL'});
            img.onerror = () => alert('No se pudo cargar la imagen');
            img.src = url;
            urlInput.value=''; document.getElementById('urlUploadArea').classList.remove('active');
        }

        function updateUI() {
            if (isAdmin) {
                adminStatus.textContent = 'Modo Administrador';
                adminStatus.classList.remove('hidden');
                uploadSection.classList.remove('hidden');
                adminLoginBtn.classList.add('hidden');
                logoutBtn.classList.remove('hidden');
            } else {
                adminStatus.classList.add('hidden');
                uploadSection.classList.add('hidden');
                adminLoginBtn.classList.remove('hidden');
                logoutBtn.classList.add('hidden');
            }
        }

        function openLoginModal() { loginModal.style.display = 'block'; passwordInput.focus(); }
        function logout() { isAdmin = false; localStorage.setItem('isAdmin', 'false'); updateUI(); }
        function attemptLogin() {
            if (passwordInput.value === ADMIN_PASSWORD) {
                isAdmin = true; localStorage.setItem('isAdmin', 'true'); updateUI(); loginModal.style.display = 'none'; passwordInput.value='';
            } else { loginMessage.textContent = 'Contraseña incorrecta.'; }
        }
        function renderGallery(images) {
            imageGallery.innerHTML = '';
            const limit = parseInt(document.getElementById('cantidadSelector').value);
            const toShow = limit === 9999 ? images : images.slice(0, limit);

            if (!toShow.length) {
                emptyMessage.style.display = 'block';
                imageGallery.appendChild(emptyMessage);
                return;
            }
            emptyMessage.style.display = 'none';
            toShow.forEach(img => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `<img src="${img.src}" alt="${img.name}" loading="lazy">`;
                if (isAdmin) {
                    const del = document.createElement('button');
                    del.className = 'delete-btn';
                    del.innerHTML = '×';
                    del.onclick = () => window.open(`https://cloudinary.com/console/media_library/folder/${FOLDER}`, '_blank');
                    item.appendChild(del);
                }
                imageGallery.appendChild(item);
            });
        }
        document.getElementById('cantidadSelector').addEventListener('change', () => {
            loadGallery(); // vuelve a cargar y respeta el nuevo límite
        });
        // ----------  ABRE/CIERRA  PANTALLA COMPLETA  ----------
const fullScreenModal = document.getElementById('fullScreenModal');
const fullScreenImage = document.getElementById('fullScreenImage');
const fsClose         = document.querySelector('.fs-close');

// Delegación de eventos: cualquier click en una imagen de la galería
document.getElementById('imageGallery').addEventListener('click', e => {
  if (e.target.tagName === 'IMG') {
    fullScreenImage.src = e.target.src;
    fullScreenModal.style.display = 'block';
    document.body.style.overflow = 'hidden'; // evita scroll de fondo
  }
});

// Cierra con la X
fsClose.onclick = () => {
  fullScreenModal.style.display = 'none';
  document.body.style.overflow = '';
};

// Cierra con click fuera de la imagen
fullScreenModal.onclick = e => {
  if (e.target === fullScreenModal) {
    fullScreenModal.style.display = 'none';
    document.body.style.overflow = '';
  }
};

// Cierra con tecla ESC
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') {
    fullScreenModal.style.display = 'none';
    document.body.style.overflow = '';
  }
});
    </script>
   
</body>

</html>